{"ast":null,"code":"var _jsxFileName = \"/home/filipenunez/Documents/Projects/avaliacao-qq/qq_twitter/src/components/login/Auth.js\";\nimport React from 'react';\nimport './Auth.css';\nimport { BrowserRouter as Router, Route, Redirect, withRouter } from 'react-router-dom';\nimport Feed from \"../feed/Feed\";\nimport setUser from \"../feed/Feed\";\nconst Authentication = {\n  isAuthenticated: false,\n\n  setAuthentication(cb) {\n    this.isAuthenticated = true;\n    setTimeout(cb, 100);\n  },\n\n  signout(cb) {\n    this.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n\n};\n\nasync function loginRequest(user, password) {\n  const bodyData = JSON.stringify({\n    'login': user,\n    'password': password\n  }); // making the post request\n\n  const request = new Request('http://localhost:8080/login', {\n    body: bodyData,\n    method: 'post',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    }\n  });\n  return fetch(request);\n}\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirect: false,\n      user: \"\",\n      password: \"\"\n    };\n\n    this.login = () => {\n      //Getting the Promise as unresolved\n      var requestPromise = loginRequest(this.state.user, this.state.password); // thisState = this so I can use inside .then in the promise\n\n      const thisState = this; // resolving the promise\n\n      requestPromise.then(response => response.json()).then(function (data) {\n        Authentication.setAuthentication(() => {\n          thisState.setState(() => ({\n            redirect: data.authenticated\n          }));\n        });\n      });\n    };\n  }\n\n  //end of login\n  render() {\n    if (this.state.redirect === true) {\n      return React.createElement(Redirect, {\n        to: \"/feed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: event => this.setState({\n        user: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"password\",\n      value: this.state.value,\n      onChange: event => this.setState({\n        password: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Log in\"));\n  }\n\n}\n\nconst LoginSucess = withRouter(() => // Se isAuthenticated === True renderiza Feed se False renderiza texto.\nAuthentication.isAuthenticated ? React.createElement(Feed, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 102\n  },\n  __self: this\n}) : React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 104\n  },\n  __self: this\n}, React.createElement(\"div\", {\n  className: \"Login\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 105\n  },\n  __self: this\n}, React.createElement(\"p\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 106\n  },\n  __self: this\n}, \"Por Favor Logue No QQ_Twitter\"))));\nexport default function AuthExample() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(LoginSucess, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"link\", {\n    to: \"/feed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/\",\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/home/filipenunez/Documents/Projects/avaliacao-qq/qq_twitter/src/components/login/Auth.js"],"names":["React","BrowserRouter","Router","Route","Redirect","withRouter","Feed","setUser","Authentication","isAuthenticated","setAuthentication","cb","setTimeout","signout","loginRequest","user","password","bodyData","JSON","stringify","request","Request","body","method","headers","Accept","fetch","Login","Component","state","redirect","login","requestPromise","thisState","then","response","json","data","setState","authenticated","render","value","event","target","LoginSucess","AuthExample"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './Auth.css'\nimport {\n    BrowserRouter as Router, Route, Redirect, withRouter\n} from 'react-router-dom'\nimport Feed from \"../feed/Feed\"\nimport setUser from \"../feed/Feed\"\nconst Authentication = {\n    isAuthenticated: false,\n    setAuthentication(cb) {\n        this.isAuthenticated = true\n\n        setTimeout(cb, 100)\n    },\n    signout(cb) {\n        this.isAuthenticated = false\n        setTimeout(cb, 100)\n\n    }\n}\n\nasync function loginRequest(user, password) {\n    const bodyData = JSON.stringify({\n        'login': user,\n        'password': password\n    })\n\n    // making the post request\n    const request = new Request('http://localhost:8080/login', {\n        body: bodyData,\n        method: 'post',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n        }\n    });\n    return fetch(request)\n\n}\n\nclass Login extends React.Component {\n    state = {\n        redirect: false,\n        user: \"\",\n        password: \"\",\n    }\n\n    login = () => {\n\n        //Getting the Promise as unresolved\n        var requestPromise = loginRequest(this.state.user, this.state.password)\n\n        // thisState = this so I can use inside .then in the promise\n        const thisState = this\n\n        // resolving the promise\n        requestPromise\n            .then((response) => response.json())\n            .then(function (data) {\n                Authentication.setAuthentication(() => {\n                    thisState.setState(() => ({\n                        redirect: data.authenticated\n                    }))\n                })\n            })\n\n    } //end of login\n\n\n\n\n    render() {\n        if (this.state.redirect === true) {\n            return <Redirect to='/feed' />\n        }\n\n\n        return (\n            < div className=\"Login\">\n                <div>\n                    <input type=\"text\"\n                        value={this.state.value}\n                        onChange={event => this.setState({ user: event.target.value })}></input>\n                </div>\n\n                <div>\n                    <input type=\"password\"\n                        value={this.state.value}\n                        onChange={event => this.setState({ password: event.target.value })}></input>\n                </div>\n                <button onClick={this.login}>Log in</button>\n            </div >\n        )\n    }\n}\n\n\n\nconst LoginSucess = withRouter(() => (\n    // Se isAuthenticated === True renderiza Feed se False renderiza texto.\n    Authentication.isAuthenticated ? (\n        < Feed />\n    ) : (\n            <div>\n                <div className=\"Login\">\n                    <p>Por Favor Logue No QQ_Twitter</p>\n                </div>\n            </div>\n        )\n))\n\nexport default function AuthExample() {\n\n    return (\n        <div>\n            <Router>\n                <LoginSucess >\n                    {/* Renderizando p√°gina depois do login com sucesso*/}\n                    <link to='/feed'></link>\n                </LoginSucess>\n                <Route path='/' component={Login} />\n            </Router>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}