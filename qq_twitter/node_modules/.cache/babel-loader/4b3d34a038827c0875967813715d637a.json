{"ast":null,"code":"var _jsxFileName = \"/home/filipenunez/Documents/Projects/avaliacao-qq/qq_twitter/src/components/login/Auth.js\";\nimport React from 'react';\nimport './Auth.css';\nimport { BrowserRouter as Router, Route, Redirect, withRouter } from 'react-router-dom';\nimport Feed from \"../feed/Feed\";\nconst Authentication = {\n  isAuthenticated: false,\n\n  setAuthentication(cb) {\n    this.isAuthenticated = true;\n    setTimeout(cb, 100);\n  },\n\n  signout(cb) {\n    this.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n\n};\n\nfunction loginRequest(user, password) {\n  console.log(user);\n  var bodyData = JSON.stringify({\n    'login': user,\n    'password': password\n  }); // console.log(bodyData)\n\n  var request = new Request('http://localhost:8080/login', {\n    body: bodyData,\n    method: 'post',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    }\n  });\n  return fetch(request); // .then((response) => response.json())\n  // .then(function (data) {\n  //     console.log(\"DATA\", data[Object.keys(data)[0]])\n  //     // return data[Object.keys(data)[0]]; //return true or false\n  //     return data\n  // })\n}\n\nclass Login extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      redirect: false,\n      user: \"\",\n      password: \"\"\n    };\n\n    this.login = () => {\n      var user = loginRequest(this.state.user, this.state.password);\n      var result;\n      user.then(user_ResultToJSON => user_ResultToJSON.json()).then(function (ResultToJSON_toValue) {\n        console.log(\"ResultToJSON_toValue\", ResultToJSON_toValue[Object.keys(ResultToJSON_toValue)[0]]);\n      });\n\n      if (user === true) {\n        Authentication.setAuthentication(() => {\n          this.setState(() => ({\n            redirect: true\n          }));\n        });\n      }\n    };\n  }\n\n  render() {\n    if (this.state.redirect === true) {\n      return React.createElement(Redirect, {\n        to: \"/feed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: event => this.setState({\n        user: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: event => this.setState({\n        password: event.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Log in\"));\n  }\n\n}\n\nconst LoginSucess = withRouter(() => // Se isAuthenticated === True renderiza Feed se False renderiza texto.\nAuthentication.isAuthenticated ? React.createElement(Feed, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 100\n  },\n  __self: this\n}) : React.createElement(\"div\", {\n  className: \"Login\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 102\n  },\n  __self: this\n}, React.createElement(\"p\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 104\n  },\n  __self: this\n}, \"Por Favor Logue No QQ_Twitter\")));\nexport default function AuthExample() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(LoginSucess, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"link\", {\n    to: \"/feed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/\",\n    component: Login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/home/filipenunez/Documents/Projects/avaliacao-qq/qq_twitter/src/components/login/Auth.js"],"names":["React","BrowserRouter","Router","Route","Redirect","withRouter","Feed","Authentication","isAuthenticated","setAuthentication","cb","setTimeout","signout","loginRequest","user","password","console","log","bodyData","JSON","stringify","request","Request","body","method","headers","Accept","fetch","Login","Component","state","redirect","login","result","then","user_ResultToJSON","json","ResultToJSON_toValue","Object","keys","setState","render","value","event","target","LoginSucess","AuthExample"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './Auth.css'\nimport {\n    BrowserRouter as Router, Route, Redirect, withRouter\n} from 'react-router-dom'\nimport Feed from \"../feed/Feed\"\n\nconst Authentication = {\n    isAuthenticated: false,\n    setAuthentication(cb) {\n        this.isAuthenticated = true\n\n        setTimeout(cb, 100)\n    },\n    signout(cb) {\n        this.isAuthenticated = false\n        setTimeout(cb, 100)\n\n    }\n}\n\nfunction loginRequest(user, password) {\n    console.log(user)\n    var bodyData = JSON.stringify({\n        'login': user,\n        'password': password\n    })\n    // console.log(bodyData)\n    var request = new Request('http://localhost:8080/login', {\n        body: bodyData,\n        method: 'post',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n        }\n    });\n    return fetch(request)\n    // .then((response) => response.json())\n    // .then(function (data) {\n    //     console.log(\"DATA\", data[Object.keys(data)[0]])\n    //     // return data[Object.keys(data)[0]]; //return true or false\n    //     return data\n    // })\n}\n\nclass Login extends React.Component {\n    state = {\n        redirect: false,\n        user: \"\",\n        password: \"\",\n    }\n    login = () => {\n\n        var user = loginRequest(this.state.user, this.state.password)\n        var result\n        user\n            .then((user_ResultToJSON) => user_ResultToJSON.json())\n            .then(function (ResultToJSON_toValue) {\n                console.log(\"ResultToJSON_toValue\", ResultToJSON_toValue[Object.keys(ResultToJSON_toValue)[0]])\n            })\n        if (user === true) {\n            Authentication.setAuthentication(() => {\n                this.setState(() => ({\n                    redirect: true\n                }))\n            })\n        }\n\n    }\n    render() {\n        if (this.state.redirect === true) {\n            return <Redirect to='/feed' />\n        }\n\n\n        return (\n            < div className=\"Login\">\n                <div >\n                    <input type=\"text\"\n                        value={this.state.value}\n                        onChange={event => this.setState({ user: event.target.value })}></input>\n                </div>\n\n                <div>\n                    <input type=\"text\"\n                        value={this.state.value}\n                        onChange={event => this.setState({ password: event.target.value })}></input>\n                </div>\n                <button onClick={this.login}>Log in</button>\n            </div >\n        )\n    }\n}\n\n\n\nconst LoginSucess = withRouter(() => (\n    // Se isAuthenticated === True renderiza Feed se False renderiza texto.\n    Authentication.isAuthenticated ? (\n        < Feed />\n    ) : (\n            <div className=\"Login\">\n\n                <p>Por Favor Logue No QQ_Twitter</p>\n            </div>\n        )\n))\n\nexport default function AuthExample() {\n    return (\n        <div>\n            <Router>\n                <LoginSucess >\n                    {/* Renderizando p√°gina depois do login com sucesso*/}\n                    <link to='/feed'></link>\n                </LoginSucess>\n                <Route path='/' component={Login} />\n            </Router>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}